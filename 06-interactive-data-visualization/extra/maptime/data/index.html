<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Ubuntu' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../lib/codemirror.css">
  <link rel="stylesheet" href="../../lib/inlet.css">
  <link rel="stylesheet" href="../style.css">
  <script src="../../lib/html5slider.js"></script>
  <script src="../../lib/codemirror.js"></script>
  <script src="../../lib/xml.js"></script>
  <script src="../../lib/htmlembedded.js"></script>
  <script src="../../lib/d3.min.js"></script>
  <script src="../../lib/sticker.js"></script>
  <script src="../../lib/inlet.min.js"></script>
  <title>The Data</title>
  <style>
  .sidebyside .left {
  }
  .sidebyside .right {
  }
  .right img {
    max-width:300px;
  }
  </style>
</head>
<body>
  <div class="header">
  <a style="float:right;margin-right:20px" href="../">Main Menu</a>
  <h1>Data</h1>
  <ul>
    <li>
      <a href="#world">World</a>
    </li>
    <li>
      <a href="#counties">Counties</a>
    </li>
    <li>
      <a href="#airports">Airports</a>
    </li>

  </ul>
  </div>
  <div class="content">

  <div name="world" id="world">
    <h2>World</h2>
    <div class="sidebyside">
      <div class="left">
<snippet>
var url = "world110.json";
d3.json(url, function(err, data){
  console.log(url, "error", err);
  console.log(url, "data", data)
})
</snippet>
        <div class="editor"></div>
        <p>
          We can load world landmass boundaries as TopoJSON data from a file. 
          <p><a href="world110.json">Downlaod</a></p>
          <br>
        </p>
        <p>Example In <a href="http://tributary.io/inlet/ea8cb87ef3c5574d38b1">Tributary</a></p>
      </div>
      <div class="right">
        <img src="../images/world110.png">
      </div>
    </div>
    <script>
    (function() {
      var options = {
        mode: 'javascript',
        lineNumbers: true,
        viewportMargin: Infinity,
      }
      var editor = d3.select("#world").select(".editor");
      var svg = d3.select("#world svg");
      var snippet  = d3.select("#world").select("snippet");
      var text = snippet.text()
      var cm = CodeMirror(editor.node(), options);
      Inlet(cm)
      var text = snippet.text()
      cm.on("change", function() {
        svg.selectAll("*").remove()
        var value = cm.getValue();
        try {
          eval(value);
        } catch(e) {
         console.log(e)
        }
      })
      cm.setValue(text);
    }())
    </script>
  </div>

  <div name="counties" id="counties">
    <h2>Counties</h2>
    <div class="sidebyside">
<snippet>
var url = "californiaCounties.json";
d3.json(url, function(err, data){
  console.log(url, "error", err);
  console.log(url, "data", data)
})
</snippet>
      <div class="left">
        <div class="editor"></div>
        <p>
          California county boundaries simplified in TopoJSON. 
          <p><a href="californiaCounties.json">Download</a>.</p>
          <br>
        </p>
        <p>
          Example in <a href="http://tributary.io/inlet/965132f22675db8bdc6b">Tributary</a>
        </p>
      </div>
      <div class="right">
        <img src="../images/counties.png">
      </div>
    </div>
    <script>
    (function() {
      var options = {
        mode: 'javascript',
        lineNumbers: true,
        viewportMargin: Infinity,
      }
      var editor = d3.select("#counties").select(".editor");
      var svg = d3.select("#counties svg");
      var snippet  = d3.select("#counties").select("snippet");
      var text = snippet.text()
      var cm = CodeMirror(editor.node(), options);
      Inlet(cm)
      var text = snippet.text()
      cm.on("change", function() {
        svg.selectAll("*").remove()
        var value = cm.getValue();
        try {
          eval(value);
        } catch(e) {
         console.log(e)
        }
      })
      cm.setValue(text);
    }())
    </script>
  </div>

  <div name="airports" id="airports">
    <h2>Airports</h2>
    <div class="sidebyside">
      <div class="left">
<snippet>
var url = "airports.json";
d3.json(url, function(err, data){
  console.log(url, "error", err);
  console.log(url, "data", data)
})
</snippet>
        <div class="editor"></div>
        <p>
        We can load geometry that has data associated with it.
        <br>
        <p><a href="airports.json">Download</a> (from <a href="https://github.com/enjalot/earthquake">earthquake hackathon</a>).</p>
        </p>
        <p>Example in <a href="http://enjalot.github.io/earthquake/examples/AirportFlty/">Leaflet</a></p>
      </div>
      <div class="right">
        <img src="../images/airports.png">
      </div>
    </div>
    <script>
    (function() {
      var options = {
        mode: 'javascript',
        lineNumbers: true,
        viewportMargin: Infinity,
      }
      var editor = d3.select("#airports").select(".editor");
      var svg = d3.select("#airports svg");
      var snippet  = d3.select("#airports").select("snippet");
      var text = snippet.text()
      var cm = CodeMirror(editor.node(), options);
      Inlet(cm)
      var text = snippet.text()
      cm.on("change", function() {
        svg.selectAll("*").remove()
        var value = cm.getValue();
        try {
          eval(value);
        } catch(e) {
         console.log(e)
        }
      })
      cm.setValue(text);
    }())
    </script>
  </div>


  <div name="debris" id="debris">
    <h2>Debris (by county)</h2>
    <div class="sidebyside">
      <div class="left">
<snippet>
var url = "debris.json";
d3.json(url, function(err, data){
  console.log(url, "error", err);
  console.log(url, "data", data)
})
</snippet>
        <div class="editor"></div>
        <p>
        We can load polygon geometry that has data associated with it.
        <br>
        <p><a href="debris.json">Download</a> (from <a href="https://github.com/enjalot/earthquake">earthquake hackathon</a>).</p>
        </p>
        <p>Example in <a href="http://enjalot.github.io/earthquake/examples/Debris_Tract/">Leaflet</a></p>
      </div>
      <div class="right">
        <img src="../images/debris.png">
      </div>
    </div>
    <script>
    (function() {
      var options = {
        mode: 'javascript',
        lineNumbers: true,
        viewportMargin: Infinity,
      }
      var editor = d3.select("#debris").select(".editor");
      var svg = d3.select("#debris svg");
      var snippet  = d3.select("#debris").select("snippet");
      var text = snippet.text()
      var cm = CodeMirror(editor.node(), options);
      Inlet(cm)
      var text = snippet.text()
      cm.on("change", function() {
        svg.selectAll("*").remove()
        var value = cm.getValue();
        try {
          eval(value);
        } catch(e) {
         console.log(e)
        }
      })
      cm.setValue(text);
    }())
    </script>
  </div>

  <script>
    var matches = function(node, selector) {
      var _ref;
      if (node.matches) {
        return node.matches(selector);
      }
      return ((_ref = node.parentNode) != null ? _ref.querySelector(selector) : void 0) === node;
    };

    var containingParent = function(node, selector) {
      while (node) {
        if (matches(node, selector)) {
          return node;
        }
        node = node.parentNode;
      }
    };

    d3.select(document.body).on("click", function() {
      var target = d3.select(d3.event.target);
      var contains = containingParent(target.node(), ".editor");
      if(!target.classed("range") && !contains) {
        d3.selectAll(".inlet_slider").style("visibility", "hidden");
        d3.selectAll(".ColorPicker").style("display", "none");
      }
    })
    d3.selectAll("svg").attr("title", "Right click and Inspect me");
  </script>
  <a href="#">Top</a>
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39326674-5', 'enjalot.github.io');
  ga('send', 'pageview');
</script>

</body>
</html>

